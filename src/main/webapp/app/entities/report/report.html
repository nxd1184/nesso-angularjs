<!-- BEGIN CONTENT -->
<div class="page-content-wrapper page-report">
    <div class="page-content">
        <!-- BEGIN PAGE HEAD -->
        <div class="page-head">
            <!-- BEGIN PAGE TITLE -->
            <div class="page-title">
                <h1>Report</h1>
            </div>
            <!-- END PAGE TITLE -->
            <!-- BEGIN PAGE TOOLBAR -->
            <div class="page-toolbar">
                <div class="search" >
                    <style type="text/css">

                    </style>
                    <div class="form-group group-date" style="overflow:hidden;width:270px;">
                        <label class="text-left control-label margin-top-10" style="float:left">Date: </label>
                        <div class="" style="margin-left:10px;display:inline-block;">
                            <div class="input-icon">
                                <i class="fa fa-calendar"></i>
                                <input id="datepicker"  type="text" name="datefilter" value="" class="form-control" placeholder="Choose Date">
                            </div>
                        </div>
                    </div>
                </div>
                <style type="text/css">
                    .daterangepicker.ltr{
                        margin-top: 10px;
                    }
                    .export-action .dropdown-menu::before{
                        right: 9px;
                        left: initial;
                    }
                    .export-action .dropdown-menu::after{
                        right: 10px;
                        left: initial;
                    }
                    .export-action .dropdown-menu{
                        min-width: 94px;
                    }
                    .export-action .btn.dropdown-toggle{
                        border-left: 1px solid rgba(55, 71, 79, 0.2);
                    }
                </style>
                <div class="btn-group pull-right export-action">
                    <button type="button" class="btn btn-primary">Export</button>
                    <button type="button" class="btn btn-primary dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        <span class="caret"></span>
                        <span class="sr-only">Toggle Dropdown</span>
                    </button>
                    <ul class="dropdown-menu">
                        <li><a ng-click="vm.exportExcel()">Excel</a></li>
                        <!--<li><a href="#">PDF</a></li>-->
                    </ul>
                </div>

                <!-- END THEME PANEL -->
            </div>
            <!-- END PAGE TOOLBAR -->
            <div class="clearfix"></div>
            <div class="page-breadcrumb breadcrumb profile plan-head">
                <ul class="nav nav-tabs pull-left">
                    <li class="active">
                        <a data-target="#tab_1_11" data-toggle="tab" ng-click="vm.getProductionBonusReport()">
                            Production Bonus Report</a>
                    </li>
                    <li class="">
                        <a data-target="#tab_1_22" data-toggle="tab" ng-click="vm.getQualityReport()">
                            Quality Report</a>
                    </li>
                    <li class="">
                        <a data-target="#tab_1_33" data-toggle="tab" ng-click="vm.getDeliveryQualityReport()">
                            Delivery & Quality</a>
                    </li>
                    <li class="">
                        <a data-target="#tab_1_44" data-toggle="tab" ng-click="vm.getFreelancerReport()">
                            Freelancer</a>
                    </li>
                    <li class="">
                        <a data-target="#tab_1_55" data-toggle="tab" ng-click="vm.getCheckInReport()">
                            Check in</a>
                    </li>
                    <li class="">
                        <a data-target="#tab_1_66" data-toggle="tab" ng-click="vm.getProjectAndMemberReport()">
                            Project And Member Report</a>
                    </li>
                </ul>
            </div>
        </div>
        <!-- END PAGE HEAD -->
        <div class="margin-top-20">

            <!-- <div class="wrap-table-radius plan"> -->
            <div class="tab-content">
                <div class="tab-pane active" id="tab_1_11">
                    <div class="title">
                        <h3>Production Bonus Report</h3>
                        <p class="range-date"></p>
                    </div>
                    <style type="text/css">
                        .product-bonus th.fr_name,.product-bonus th.fr_proname{

                        }
                        .product-bonus .fr_name,.product-bonus .fr_proname{
                            width: 18%;
                            font-weight: 500;
                            color: #afbec6;
                        }
                        .product-bonus .fr_job{
                            width: 15%;
                        }
                        .product-bonus b{
                            font-weight: bold;
                            color: #37474f;
                        }
                        .product-bonus .fr_total_credit{
                            width: 15%;
                            text-align: right !important;
                        }
                        .product-bonus .fr_credit{
                            width: 10%;
                            text-align: center !important;
                        }
                    </style>
                    <div class="wrap-table-radius plan  table-responsive">
                        <table class="table table-hover freelancer product-bonus">
                            <thead>
                            <tr>
                                <th class="fr_index">#</th>
                                <th class="fr_name">Employee</th>
                                <th class="fr_proname">Project</th>
                                <th class="fr_job">Job</th>
                                <th class="fr_vol">Volumn</th>
                                <th class="fr_credit">Credit</th>
                                <th class="fr_total_credit">Total Credit</th>

                            </tr>
                            </thead>
                            <tbody>
                            <style type="text/css">

                            </style>
                            <tr ng-repeat="user in vm.productionBonusProject track by $index">
                                <td colspan="7">
                                    <table class="table">
                                        <tr class="fr_fistline" ng-repeat="item in user.list_rows ">
                                            <td class="fr_index">{{item.idx_user}}</td>
                                            <td class="fr_name"><b>{{item.employee}}</b></td>
                                            <td class="fr_proname">{{item.project}}</td>
                                            <td class="fr_job">{{item.job}}</td>
                                            <td class="fr_vol"><b>{{item.volumn}}</b></td>
                                            <td class="fr_credit">{{item.credit}}</td>
                                            <td class="fr_total_credit"><b>{{item.totalCredit}}</b></td>

                                        </tr>
                                    </table>
                                </td>
                            </tr>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                <div class="tab-pane" id="tab_1_22">
                    <div class="title">
                        <h3>Quality Report</h3>
                        <p class="range-date"></p>
                    </div>
                    <div class="wrap-table-radius plan  table-responsive">
                        <table class="table table-hover quanlity-control">
                            <thead>
                            <tr>
                                <th>#</th>
                                <th class="">Quality Control</th>
                                <th class="">Retoucher</th>
                                <th class="col_volumn text-right">Volumn</th>
                                <th class="col_err text-right">Error</th>
                                <th class="col_err_volumn text-right">ERROR/Volumn (%)</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr ng-repeat="item in vm.qualityReport track by $index">
                                <td>{{$index + 1}}</td>
                                <td>{{item.qc}}</td>
                                <td>{{item.retoucher}}</td>
                                <td class="col_volumn text-right">{{item.volumn}}</td>
                                <td class="col_err text-right">{{item.error}}</td>
                                <td class="col_err_volumn text-right">{{item.errorRate}}</td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <div class="tab-pane" id="tab_1_33">
                    <div class="title">
                        <h3>Delivery & Quality</h3>
                        <p class="range-date"></p>
                    </div>
                    <div class="wrap-table-radius plan table-responsive">
                        <table class="table table-hover freelancer">
                            <thead>
                            <tr>
                                <th class="fr_index">#</th>
                                <th class="fr_name">Employee</th>
                                <th class="fr_proname">Project</th>
                                <th class="fr_job">Job</th>
                                <th class="fr_done">Done</th>
                                <th class="fr_vol">Volumn</th>
                                <th class="fr_err">Error</th>
                                <th class="fr_err_vl">ERROR/Volumn (%)</th>
                                <th class="fr_receive">Received Date</th>
                                <th class="fr_return">Return Date</th>
                            </tr>
                            </thead>
                            <tbody>
                            <style type="text/css">

                            </style>
                            <tr ng-repeat="user in vm.deliveryQualityReport track by $index">
                                <td colspan="10">
                                    <table class="table">
                                        <tr class="fr_fistline" ng-repeat="item in user.list_rows">
                                            <td class="fr_index">{{item.idx_user}}</td>
                                            <td class="fr_name">{{item.employee}}</td>
                                            <td class="fr_proname">{{item.project}}</td>
                                            <td class="fr_job">{{item.job}}</td>
                                            <td class="fr_done">{{item.done}}</td>
                                            <td class="fr_vol">{{item.volumn}}</td>
                                            <td class="fr_err">{{item.error}}</td>
                                            <td class="fr_err_vl">{{item.error_rate}}</td>
                                            <td class="fr_receive">{{item.received_date}}</td>
                                            <td class="fr_return">{{item.return_date}}</td>
                                        </tr>
                                    </table>
                                </td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                <div class="tab-pane" id="tab_1_44">
                    <div class="title">
                        <h3>Freelancer Report</h3>
                        <p class="range-date"></p>
                    </div>
                    <div class="wrap-table-radius plan table-responsive">
                        <table class="table table-hover freelancer">
                            <thead>
                            <tr>
                                <th class="fr_index">#</th>
                                <th class="fr_name">Freelancer</th>
                                <th class="fr_proname">Project</th>
                                <th class="fr_job">Job</th>
                                <th class="fr_done">Done</th>
                                <th class="fr_vol">Volumn</th>
                                <th class="fr_err">Error</th>
                                <th class="fr_err_vl">ERROR/Volumn (%)</th>
                                <th class="fr_receive">Received Date</th>
                                <th class="fr_return">Return Date</th>
                            </tr>
                            </thead>
                            <tbody>
                            <style type="text/css">

                            </style>
                            <tr ng-repeat="user in vm.freelancerReport track by $index">
                                <td colspan="10">
                                    <table class="table">
                                        <tr class="fr_fistline" ng-repeat="item in user.list_rows">
                                            <td class="fr_index">{{item.idx_user}}</td>
                                            <td class="fr_name">{{item.employee}}</td>
                                            <td class="fr_proname">{{item.project}}</td>
                                            <td class="fr_job">{{item.job}}</td>
                                            <td class="fr_done">{{item.done}}</td>
                                            <td class="fr_vol">{{item.volumn}}</td>
                                            <td class="fr_err">{{item.error}}</td>
                                            <td class="fr_err_vl">{{item.error_rate}}</td>
                                            <td class="fr_receive">{{item.received_date}}</td>
                                            <td class="fr_return">{{item.return_date}}</td>
                                        </tr>
                                    </table>
                                </td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                <div class="tab-pane" id="tab_1_55">
                    <div class="title">
                        <div class="pull-left">
                            <h3>Check in Report</h3>
                            <p class="range-date"></p>
                        </div>
                        <div class="form-group margin-bottom-0 margin-top-0 view_base pull-right">

                            <div class="btn-group">
                                <button type="button" class="active btn btn-default btn-xs btn-date">Date</button>
                                <button type="button" class="btn btn-default btn-xs btn-user">User</button>
                            </div>
                        </div>
                    </div>
                    <div class="clearfix"></div>
                    <div class="wrap-table-radius plan  table-responsive">
                        <style type="text/css">
                            .checkintbl .col_in,.checkintbl .col_out,.checkintbl .col_type,.checkintbl .col_workinghours{
                                text-align: center;
                            }
                        </style>
                        <table class="tree table table-hover checkintbl datecheckintbl">
                            <thead>
                            <tr>

                                <th class="col_date">Date</th>
                                <th class="col_username">User name</th>
                                <th class="col_in">IN</th>
                                <th class="col_out">Out</th>
                                <th class="col_in">IN Overtime</th>
                                <th class="col_out">Out Overtime</th>
                                <th class="col_workinghours">Hours Working</th>
                                <th class="col_workinghours">Hours Working Overtime</th>
                                <th class="col_type">Type</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr ng-repeat="item in vm.checkInReportByDate track by $index" class="{{item.css_class}}">
                                <td class="col_date">{{item.date}}</td>
                                <td class="col_username">{{item.user_name}}</td>
                                <td class="col_in">{{item.in}}</td>
                                <td class="col_out">{{item.out}}</td>
                                <td class="col_in">{{item.in_overtime}}</td>
                                <td class="col_out">{{item.out_overtime}}</td>
                                <td class="col_workinghours">{{item.hours_working}}</td>
                                <td class="col_workinghours">{{item.hours_working_overtime}}</td>
                                <td class="col_type">{{item.type}}</td>
                            </tr>
                            </tbody>
                        </table>
                        <table class="tree table table-hover checkintbl usercheckintbl" style="display:none">
                            <thead>
                            <tr>
                                <th class="col_username">User name</th>
                                <th class="col_date">Date</th>
                                <th class="col_in">IN</th>
                                <th class="col_out">Out</th>
                                <th class="col_workinghours">Hours Working</th>
                                <th class="col_type">Type</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr ng-repeat="item in vm.checkInReportByUser track by $index" class="{{item.css_class}}">
                                <td class="col_date">{{item.user_name}}</td>
                                <td class="col_username">{{item.date}}</td>
                                <td class="col_in">{{item.in}}</td>
                                <td class="col_out">{{item.out}}</td>
                                <td class="col_in">{{item.in_overtime}}</td>
                                <td class="col_out">{{item.out_overtime}}</td>
                                <td class="col_workinghours">{{item.hours_working}}</td>
                                <td class="col_workinghours">{{item.hours_working_overtime}}</td>
                                <td class="col_type">{{item.type}}</td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                <div class="tab-pane" id="tab_1_66">
                    <div class="title">
                        <div class="pull-left">
                            <h3>Project And Member Report</h3>
                            <p class="range-date"></p>
                        </div>

                    </div>
                    <style type="text/css">
                        .project_member tr th{
                            color: #37474f !important;
                        }
                        .project_member tr th:nth-child(1),
                        .project_member tr th:nth-child(2),
                        .project_member tr th:nth-child(3),
                        .project_member tr th:nth-child(4){
                            color: #afbec6 !important;
                        }
                        .project_member tr.parent td{
                            font-weight: normal !important;
                        }
                        .project_member tr.parent td:nth-child(2){
                            font-weight: bold !important;
                        }
                        .project_member tr.parent td:nth-child(1),
                        .project_member tr.parent td:nth-child(2),
                        .project_member tr.parent td:nth-child(3),
                        .project_member tr.parent td:nth-child(4){
                            border-top: 1px solid #dae3ea;
                        }
                        .project_member tr td:nth-child(1),
                        .project_member tr td:nth-child(2),
                        .project_member tr td:nth-child(3),
                        .project_member tr td:nth-child(4){
                            border: 0;
                        }
                        .project_member tr td,.project_member tr th{
                            border: 1px solid #dae3ea;

                        }
                        .project_member tr:last-of-type td:nth-child(1),
                        .project_member tr:last-of-type td:nth-child(2),
                        .project_member tr:last-of-type td:nth-child(3),
                        .project_member tr:last-of-type td:nth-child(4){
                            border-bottom: 1px solid #dae3ea;
                        }
                        .project_member .treegrid-expander{
                            display: none;
                        }
                    </style>
                    <div class="wrap-table-radius plan   table-responsive">
                        <table class="tree table table-hover project_member">
                            <thead>
                            <tr>
                                <th>#</th>
                                <th>Project</th>
                                <th>Job</th>
                                <th>Credit</th>
                                <th colspan="2" ng-repeat="user in vm.projectAndMemberReport.members">{{user.userName}}</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr class="treegrid-1 parent" ng-repeat="itemRow in vm.projectAndMemberReport.projects track by $index">
                                <td>{{itemRow.index}}</td>
                                <td>{{itemRow.project_name}}</td>
                                <td >{{itemRow.job_name}}</td>
                                <td>{{itemRow.job_credit}}</td>
                                <td ng-repeat="userData in itemRow.users track by $index">{{userData}}</td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                <div class="clearfix"></div>
                <style type="text/css">

                </style>

            </div>
        </div>
        <!-- </div> -->
    </div>
    <!-- END PAGE BREADCRUMB -->
</div>
</div>
<!-- END CONTENT -->

<script>
    $(function() {
        $('.view_base button').click(function(){
            $('.view_base button').removeClass('active');
            $(this).addClass('active');
            var htmlOption = '';
            if($('.view_base .btn-date').hasClass('active')){
                $('.usercheckintbl').css({'display':'none'});
                $('.datecheckintbl').css({'display':'table'});
            }
            else{
                $('.usercheckintbl').css({'display':'table'});
                $('.datecheckintbl').css({'display':'none'});

            }
            $('#option_search').html(htmlOption);
            $('#option_search').selectpicker('render');
            $('#option_search').selectpicker('refresh');

        });

    });
</script>
